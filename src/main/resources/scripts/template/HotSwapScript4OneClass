if [ ! -d "./arthasHotSwap" ]
then
  mkdir ./arthasHotSwap
  echo "mkdir ./arthasHotSwap"
else
  rm -rf ./arthasHotSwap
  mkdir ./arthasHotSwap
  echo "./arthasHotSwap is existed, rm and mk"
fi

cd ./arthasHotSwap

curl    http://gjusp.alicdn.com/jucube/modatest >> tmp-${className}-base64.txt
base64 -d ./tmp-${className}-base64.txt > ./${className}.class

curl -L https://alibaba.github.io/arthas/install.sh | sh

rm -f tmp_in
mknod tmp_in p
exec 8<> tmp_in
./as.sh <&8 &

sleep 2s
echo "1" >> tmp_in
sleep 2s
echo "redefine ./${className}.class" >> tmp_in
echo "stop" >> tmp_in
sleep 2s
echo "hot swap success"