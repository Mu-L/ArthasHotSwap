<idea-plugin>
    <id>ArthasHotSwap</id>
    <name>ArthasHotSwap</name>
    <vendor email="xxxtai@163.com" url="https://github.com/xxxtai/ArthasHotSwap">moda</vendor>
    <description><![CDATA[
    <p> ArthasHotSwap </p>
    <p><a href="https://github.com/xxxtai/ArthasHotSwap">Github</a> </p>
    <ul>Sometimes, when you're making minor changes to your code, you want to immediately see how they will behave in a working application without shutting down the process. As we all know, hot swap can be achieved through debugging. But in some cases, the debugging port is restricted due to permission control, then you will not be able to achieve HotSwap through debugging.

The IntelliJ IDEA plugin introduced in this article can help implement hot swap on a remote server, and the operation is simple and fast. The plugin in this article is based on Arths redefine command.
</ul>
<p> </p>

<p> Firstly, Compile the entire project </p>
<ul>
HotSwap uses bytecode files, so first, we need to compile related projects, in the future, we can only compile the modified files to save time.
</ul>

<p> </p>

<p>Secondly, Implementation of ArthasHotSwap</p>
<ul>
Find the files(.java or .class) that need to be modified by HotSwap, right click in the IDEA, choose “ArthasHotSwap” and click “Swap this class”. When the plugin is successfully executed in the background, the plugin will copy the command required for HowSwap to the pasteboard.
</ul>

<p> </p>

<p>Thirdly, Log in and execute command</p>
<ul>
Next you need to log in to your remote server, then paste the command form the clipboard and execute it with administrator privileges. If the first execution fails, please execute again. Due to the need for Alibaba Cloud OSS as a medium to transfer bytecode files, your remote server needs to be able to access to the Alibaba Cloud Server.
</ul>
    ]]></description>

    <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/plugin_compatibility.html
         on how to target different products -->
    <depends>com.intellij.modules.platform</depends>

    <idea-version since-build="172"  until-build="202.*"/>

    <extensions defaultExtensionNs="com.intellij">
        <projectConfigurable parentId="tools" instance="com.xxxtai.arthas.dialog.SettingDialog"
                             id="com.xxxtai.arthas.dialog.SettingDialog" displayName="ArthasHotSwap"/>
        <projectService serviceImplementation="com.xxxtai.arthas.domain.AppSettingsState"/>

        <!-- 自定义控制台输入 -->
        <toolWindow canCloseContents="true" anchor="bottom"
                    id="ArthasHotSwap"
                    icon="PluginIcons.HOT_16_16"
                    factoryClass="com.xxxtai.arthas.dialog.MyToolWindowFactory">
        </toolWindow>
    </extensions>

    <actions>
        <action id="swapClassAction"
                class="com.xxxtai.arthas.action.SwapClassAction"
                text="Swap This Class"
                description="arthas hotswap">
        </action>

        <group id="arthas-hot-swap-plugin" popup="true"
               text="ArthasHotSwap"
               icon="PluginIcons.HOT_16_16">
            <add-to-group group-id="EditorPopupMenu" anchor="after" relative-to-action="CopyReference"/>
            <separator/>
            <reference ref="swapClassAction"/>
        </group>
    </actions>
</idea-plugin>
